{"version":3,"file":"ProductionOrderConfirmation.controller.js","names":["sap","ui","define","Controller","MessageBox","formatter","JSONModel","extend","onInit","oToday","Date","sToday","toISOString","split","this","byId","setValue","oOrderInput","addEventDelegate","onkeypress","oEvent","pattern","test","key","preventDefault","setVisible","onOrderNoChange","sValue","getParameter","length","getSource","substring","onScanSuccess","MessageToast","show","duration","undefined","sText","oButton","sInputId","getCustomData","find","d","getKey","getValue","oInput","onGetDetails","onAddSerial","sSerialTo","sSerialFrom","onScanError","oView","getView","oModel","getModel","sOrderNo","sPlant","oResourceBundle","getResourceBundle","sPath","read","success","oData","console","log","Material","TargetQuantity","OrderType","StrLoc","Unit","OpenQty","includes","SalesOrder","SalesOrderItem","setEditable","SoText","ProductionPlant","OrderNumber","records","setModel","SerialManaged","scenarioNoSerials","bind","error","oError","oResponse","JSON","parse","responseText","message","value","sMessage","e","onSingleSelect","getEditable","onRangeSelect","onClear","setProperty","setSelected","oSerialInput","sSerial","trim","oSerialInputFrom","oSerialInputTo","getSerialNumber","_buildRange","sStart","sEnd","startParts","match","endParts","rangeIndex","i","isNaN","startNum","parseInt","endNum","padLength","result","padded","toString","padStart","newParts","push","join","oOdataModel","oSerialModel","aRange","forEach","aRecords","getProperty","nosave","NoSave","notfound","NotFound","productionorder","ProductionOrder","serialnumber","SerialNumber","serialstatus","SerialStatus","seen","Set","filter","item","has","add","iRecords","sOpenQty","sResult","sort","a","b","localeCompare","numeric","sensitivity","refresh","onDelete","oSource","oContext","getBindingContext","getPath","iIndex","splice","onSave","aSerialData","getData","sStrLoc","sConfDate","sConfirmed","getSelected","sConfQty","oPayload","ConfDate","ConfQty","ToSerials","TestFlag","FinalFlag","bValid","sInvalidSerial","setUseBatch","create","response","MessageType","Message","MatDoc"],"sources":["ProductionOrderConfirmation-dbg.controller.js"],"mappings":"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","ignoreList":[]}